<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Singup</title>
</head>
<body>
{% extends "base.html" %}
{% block content %}
<h1>Sign Up</h1>
<form method="POST" action="{{ url_for('signup') }}">
    <input type="text" name="username" placeholder="Username" required>
    <input type="email" name="email" placeholder="Email" required>
    <input type="password" name="password" placeholder="Password" required>
    <p>
        <label>
            <input type="radio" name="user_type" value="student" checked>
            Student
        </label>
        <label>
            <input type="radio" name="user_type" value="teacher">
            Teacher
        </label>
    </p>
    <input type="text" id="class_code_input" name="class_code" placeholder="Enter Class Code" required>
    <button type="submit">Register</button>
</form>
<div class="links">
    <p>Already have an account? <a href="{{ url_for('login') }}">Log In</a></p>
</div>

<script>
    // Get the radio buttons and the class code input field
    const studentRadio = document.querySelector('input[name="user_type"][value="student"]');
    const teacherRadio = document.querySelector('input[name="user_type"][value="teacher"]');
    const classCodeInput = document.getElementById('class_code_input');

    // Function to toggle the visibility and required status of the class code input
    function toggleClassCodeInput() {
        if (studentRadio.checked) {
            classCodeInput.style.display = 'block';
            classCodeInput.required = true;
        } else {
            classCodeInput.style.display = 'none';
            classCodeInput.required = false;
        }
    }

    // Set the initial state on page load
    toggleClassCodeInput();

    // Add event listeners to the radio buttons
    studentRadio.addEventListener('change', toggleClassCodeInput);
    teacherRadio.addEventListener('change', toggleClassCodeInput);
</script>
{% endblock %}

</body>
</html>